/* ----- Layout reset ----- */
*{box-sizing:border-box}
html,body{
  height:100%;
  margin:0;
  /* Viktigt: widgetens sida ska INTE få egen scrollbar */
  overflow:hidden;
  font-family:system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial;
  background:#f5f7fb;
  color:#0f172a;
}

/* Centrering och luft, men utan att skapa egen vertikal scroll */
.container{
  max-width:860px;
  margin:16px auto;          /* var 40px – mindre risk att trycka ut höjd */
  padding:0 16px;
}

h1{ text-align:center; font-size:32px; margin:0 0 16px; }

/* Kortet runt chatten */
.chatcard{
  background:#fff;
  border-radius:14px;
  padding:16px;
  box-shadow:0 8px 30px rgba(2,6,23,.08);
}

/* ----- Chatlista ----- */
/* Låt listan scrolla – inte dokumentet. Anpassa höjden mot viewporten. */
.chatlog{
  list-style:none;
  padding:0;
  margin:0 0 12px;
  /* Den här raden är nyckeln – rymmer input + rubrik utan att skapa dokumentscroll. */
  max-height:clamp(360px, 64vh, 620px);
  overflow:auto;
  overscroll-behavior:contain; /* förhindrar scroll-kedja tillbaka till iframens förälder */
}

/* Bubblor */
.chatlog li{
  padding:12px 14px;
  border-radius:10px;
  margin:10px 0;
  max-width:85%;
  line-height:1.35;
}
.chatlog li.user{ margin-left:auto;  background:#eef2ff; }
.chatlog li.bot { margin-right:auto; background:#dcfce7; }

/* Inmatningsrad */
.chatbar{ display:flex; gap:10px; }
.chatbar input{
  flex:1;
  padding:12px 14px;
  border:1px solid #e5e7eb;
  border-radius:10px;
  font-size:16px;
}
.chatbar button{
  padding:12px 16px;
  border:0;
  border-radius:10px;
  background:#2563eb;
  color:#fff;
  font-weight:600;
  cursor:pointer;
}
.chatbar button:disabled{ opacity:.6; cursor:default; }

/* Lite status-text vid behov */
.status{ text-align:center; font-size:14px; color:#64748b; margin-top:8px; }

/* --- Typing indicator (3 punkter) --- */
.msg.bot.typing .bubble{
  min-width:56px;
  display:inline-flex;
  align-items:center;
  justify-content:center;
}

.dots{display:inline-flex;gap:6px;align-items:center}
.dots i{
  width:7px;height:7px;border-radius:50%;
  background:#94a3b8; opacity:.35;
  animation:bj-blink 1.1s infinite ease-in-out;
}
.dots i:nth-child(2){animation-delay:.18s}
.dots i:nth-child(3){animation-delay:.36s}

@keyframes bj-blink{
  0%,80%,100%{opacity:.25;transform:scale(.85)}
  40%         {opacity:1;   transform:scale(1)}
}